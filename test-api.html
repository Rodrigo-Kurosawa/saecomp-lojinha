<!DOCTYPE html>
<html>
<head>
    <title>Test Category API</title>
</head>
<body>
    <h1>Category API Test</h1>
    <div id="results"></div>
    
    <script>
        const API_BASE_URL = 'http://localhost:5000/api';
        
        async function testAPI() {
            const resultsDiv = document.getElementById('results');
            
            try {
                // Test all products
                console.log('Testing all products...');
                const allResponse = await fetch(`${API_BASE_URL}/products`);
                const allData = await allResponse.json();
                resultsDiv.innerHTML += `<p>All products: ${allData.data.length} items</p>`;
                
                // Test doces category
                console.log('Testing doces category...');
                const docesResponse = await fetch(`${API_BASE_URL}/products?category=doces`);
                const docesData = await docesResponse.json();
                resultsDiv.innerHTML += `<p>Doces: ${docesData.data.length} items</p>`;
                
                // Test salgados category  
                console.log('Testing salgados category...');
                const salgadosResponse = await fetch(`${API_BASE_URL}/products?category=salgados`);
                const salgadosData = await salgadosResponse.json();
                resultsDiv.innerHTML += `<p>Salgados: ${salgadosData.data.length} items</p>`;
                
                // Test bebidas category
                console.log('Testing bebidas category...');
                const bebidasResponse = await fetch(`${API_BASE_URL}/products?category=bebidas`);
                const bebidasData = await bebidasResponse.json();
                resultsDiv.innerHTML += `<p>Bebidas: ${bebidasData.data.length} items</p>`;
                
                resultsDiv.innerHTML += `<p style="color: green;">✅ All tests passed!</p>`;
                
            } catch (error) {
                console.error('Error:', error);
                resultsDiv.innerHTML += `<p style="color: red;">❌ Error: ${error.message}</p>`;
            }
        }
        
        // Run test when page loads
        window.onload = testAPI;
    </script>
</body>
</html>
